const _0x2a5d33=_0x192d;(function(_0x40ab4c,_0x5afb1){const _0x243797=_0x192d,_0x2e57df=_0x40ab4c();while(!![]){try{const _0x49bbb6=parseInt(_0x243797(0x16f))/0x1*(-parseInt(_0x243797(0x17e))/0x2)+-parseInt(_0x243797(0x19c))/0x3*(parseInt(_0x243797(0x1c3))/0x4)+parseInt(_0x243797(0x172))/0x5+parseInt(_0x243797(0x170))/0x6+parseInt(_0x243797(0x1a0))/0x7+-parseInt(_0x243797(0x15b))/0x8*(parseInt(_0x243797(0x169))/0x9)+parseInt(_0x243797(0x16b))/0xa;if(_0x49bbb6===_0x5afb1)break;else _0x2e57df['push'](_0x2e57df['shift']());}catch(_0x5ab67d){_0x2e57df['push'](_0x2e57df['shift']());}}}(_0x2702,0xdb4fc));import{connect}from'cloudflare:sockets';let userID='77a571fb-4fd2-4b37-8596-1b7d9728bb5c';const proxyIPs=[_0x2a5d33(0x1b2)];let proxyIP=proxyIPs[Math['floor'](Math[_0x2a5d33(0x161)]()*proxyIPs['length'])],dohURL=_0x2a5d33(0x1ba),nodeId='',apiToken='',apiHost='';function _0x2702(){const _0x552a59=['users','stringify','trim','invild\x20\x20addressType\x20is\x20','8xNZGMj','UUID','message','releaseLock','\x0a传输协议(network)：ws\x20或者\x20websocket\x0a伪装域名(host)：','decode','random','toString','API_TOKEN','GET\x20/\x20HTTP/1.1\x0d\x0aHost:\x20','vless://','remoteConnection!.readable\x20abort','retry','\x0a==========================配置详解==============================\x0a\x0a################################################################\x0aCF-pages-vless+ws+tls节点，分享链接如下：\x0a\x0a','7727697MzQhGU','invalid\x20user','293220RvnQPO','webSocketServer\x20has\x20error','addEventListener','Error:\x20Network\x20response\x20was\x20not\x20ok','80QggtFX','2048730ZRzMTd','https://','6823045WtmQQu','NODE_ID','values','arrayBuffer','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','getWriter','pages.dev','getReader','@skk.moe:8443?encryption=none&security=tls&type=ws&host=','write','replace','read','684whPXnN','uuid\x20is\x20not\x20valid','&sni=','writable','application/dns-message','\x0a路径(path)：/?ed=2048\x0a################################################################\x0a\x0a\x0a################################################################\x0a\x0a查看CF-workers-vless+ws+tls节点配置信息，请在浏览器地址栏输入：你设置的自定义域名/你设置的UUID\x0a防止小白过多的操作失误，必须设置自定义域名后才能使用Workers方式的TLS模式，否则，建议只使用vless+ws节点即可\x0a提示：使用pages方式部署，联通、电信用户大概率可以直接使用TLS模式，无需设置自定义域名\x0apages方式部署可参考此视频教程：https://youtu.be/McdRoLZeTqg\x0a\x0a################################################################\x0a','readable','value','some','slice','follow','\x20在本地网络打不开（中国移动用户注意）\x0a\x20\x20\x20\x20\x20\x20\x20客户端选项的伪装域名(host)必须改为你在CF解析完成的自定义域名\x0a---------------------------------------------------------------\x0a客户端必要文明参数如下：\x0a客户端地址(address)：自定义的域名\x20或者\x20优选域名\x20或者\x20优选IP（反代IP必须与反代端口对应）\x0a端口(port)：6个https端口可任意选择(443、8443、2053、2083、2087、2096)\x0a用户ID(uuid)：','workers.dev','\x0a\x0a---------------------------------------------------------------\x0a注意：当前节点无需使用CF解析完成的域名，客户端选项的TLS选项必须关闭\x0a---------------------------------------------------------------\x0a客户端必要文明参数如下：\x0a客户端地址(address)：自定义的域名\x20或者\x20优选域名\x20或者\x20优选IP（反代IP必须与反代端口对应）\x0a端口(port)：7个http端口可任意选择(80、8080、8880、2052、2082、2086、2095)\x0a用户ID(uuid)：','remoteSocketToWS\x20has\x20exception\x20','join','sec-websocket-protocol','send','&fp=random&path=%2F%3Fed%3D2048#','includes','@skk.moe:8880?encryption=none&security=none&type=ws&host=','cloudflare.com','json','byteLength','\x0a==========================配置详解==============================\x0a\x0a################################################################\x0a一、CF-workers-vless+ws节点，分享链接如下：\x0a\x0a','connected\x20to\x20','readableWebSocketStream\x20is\x20abort','/api/v1/server/UniProxy/user?node_id=','retry\x20tcpSocket\x20closed\x20error','hostname','219ToulZy','safeCloseWebSocket\x20error',',\x20userID:\x20','text/plain;charset=utf-8','8611862PKWojY','catch','websocket','getUint16','readyState','/cf','toLowerCase','finally','Error:','test','\x0a\x0a---------------------------------------------------------------\x0a注意：如果\x20','push','close','dns\x20udp\x20has\x20error','pathname','Host','stack','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','[2001:67c:2b0:db32:0:1:681a:404]','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','application/json;charset=utf-8','enqueue','https:','\x0a路径(path)：/?ed=2048\x0a传输安全(TLS)：开启\x0a跳过证书验证(allowlnsecure)：false\x0a################################################################\x0a','url','error','https://sky.rethinkdns.com/1:-Pf_____9_8A_AMAIgE8kMABVDDmKOHTAKg=','headers','data','accept','pipeTo','GET','&path=%2F%3Fed%3D2048#','readableWebSocketStream\x20is\x20close','\x0a路径(path)：/?ed=2048\x0a################################################################\x0a\x0a################################################################\x0a二、CF-workers-vless+ws+tls\x20或者\x20CF-pages-vless+ws+tls节点，分享链接如下：\x0a\x0a','64732VAZIFO','encode','PROXYIP','command\x20','log','from','get'];_0x2702=function(){return _0x552a59;};return _0x2702();}if(!isValidUUID(userID))throw new Error(_0x2a5d33(0x17f));export default{async 'fetch'(_0x2174c5,_0x2c9712,_0x286990){const _0x4fa4a1=_0x2a5d33;try{userID=_0x2c9712[_0x4fa4a1(0x15c)]||userID,proxyIP=_0x2c9712[_0x4fa4a1(0x1c5)]||proxyIP,dohURL=_0x2c9712['DNS_RESOLVER_URL']||dohURL,nodeId=_0x2c9712[_0x4fa4a1(0x173)]||nodeId,apiToken=_0x2c9712[_0x4fa4a1(0x163)]||apiToken,apiHost=_0x2c9712['API_HOST']||apiHost;const _0x35eac5=_0x2174c5[_0x4fa4a1(0x1bb)][_0x4fa4a1(0x156)]('Upgrade');if(!_0x35eac5||_0x35eac5!==_0x4fa4a1(0x1a2)){const _0xb30f9e=new URL(_0x2174c5[_0x4fa4a1(0x1b8)]);switch(_0xb30f9e[_0x4fa4a1(0x1ae)]){case _0x4fa4a1(0x1a5):return new Response(JSON['stringify'](_0x2174c5['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x4fa4a1(0x1b4)}});case'/connect':const [_0x14c693,_0x8d52bb]=[_0x4fa4a1(0x193),'80'];console[_0x4fa4a1(0x154)]('Connecting\x20to\x20'+_0x14c693+':'+_0x8d52bb+'...');try{const _0x230767=await connect({'hostname':_0x14c693,'port':parseInt(_0x8d52bb,0xa)}),_0x48ddec=_0x230767[_0x4fa4a1(0x181)][_0x4fa4a1(0x177)]();try{await _0x48ddec[_0x4fa4a1(0x17b)](new TextEncoder()[_0x4fa4a1(0x1c4)](_0x4fa4a1(0x164)+_0x14c693+'\x0d\x0a\x0d\x0a'));}catch(_0x135a12){return _0x48ddec[_0x4fa4a1(0x15e)](),await _0x230767[_0x4fa4a1(0x1ac)](),new Response(_0x135a12[_0x4fa4a1(0x15d)],{'status':0x1f4});}_0x48ddec[_0x4fa4a1(0x15e)]();const _0x18b8dc=_0x230767['readable'][_0x4fa4a1(0x179)]();let _0x3a0ae1;try{const _0x4bf6fc=await _0x18b8dc[_0x4fa4a1(0x17d)]();_0x3a0ae1=_0x4bf6fc[_0x4fa4a1(0x185)];}catch(_0x4598b8){return await _0x18b8dc['releaseLock'](),await _0x230767[_0x4fa4a1(0x1ac)](),new Response(_0x4598b8[_0x4fa4a1(0x15d)],{'status':0x1f4});}return await _0x18b8dc[_0x4fa4a1(0x15e)](),await _0x230767[_0x4fa4a1(0x1ac)](),new Response(new TextDecoder()['decode'](_0x3a0ae1),{'status':0xc8});}catch(_0xc85f50){return new Response(_0xc85f50[_0x4fa4a1(0x15d)],{'status':0x1f4});}case'/'+userID:{const _0x5f526a=getVLESSConfig(userID,_0x2174c5[_0x4fa4a1(0x1bb)][_0x4fa4a1(0x156)](_0x4fa4a1(0x1af)));return new Response(''+_0x5f526a,{'status':0xc8,'headers':{'Content-Type':_0x4fa4a1(0x19f)}});}default:_0xb30f9e[_0x4fa4a1(0x19b)]='www.bing.com',_0xb30f9e['protocol']=_0x4fa4a1(0x1b6),_0x2174c5=new Request(_0xb30f9e,_0x2174c5);return await fetch(_0x2174c5);}}else return await vlessOverWSHandler(_0x2174c5);}catch(_0x501685){let _0x17f3ba=_0x501685;return new Response(_0x17f3ba[_0x4fa4a1(0x162)]());}}};async function vlessOverWSHandler(_0x2b92b1){const _0x5899e0=_0x2a5d33,_0x33e87b=new WebSocketPair(),[_0x10c677,_0x2bab7e]=Object[_0x5899e0(0x174)](_0x33e87b);_0x2bab7e[_0x5899e0(0x1bd)]();let _0x19d2d9='',_0x2b6b04='';const _0xef5ac5=(_0x1bcb51,_0xcc8149)=>{const _0x34daab=_0x5899e0;console[_0x34daab(0x154)]('['+_0x19d2d9+':'+_0x2b6b04+']\x20'+_0x1bcb51,_0xcc8149||'');},_0x1d3371=_0x2b92b1[_0x5899e0(0x1bb)][_0x5899e0(0x156)](_0x5899e0(0x18e))||'',_0x4f226f=makeReadableWebSocketStream(_0x2bab7e,_0x1d3371,_0xef5ac5);let _0xb96ea9={'value':null},_0x5617ca=null,_0x2737aa=![];return _0x4f226f['pipeTo'](new WritableStream({async 'write'(_0x577575,_0x2b160d){const _0x4dc638=_0x5899e0;if(_0x2737aa&&_0x5617ca)return _0x5617ca(_0x577575);if(_0xb96ea9[_0x4dc638(0x185)]){const _0x51b5a8=_0xb96ea9['value'][_0x4dc638(0x181)][_0x4dc638(0x177)]();await _0x51b5a8[_0x4dc638(0x17b)](_0x577575),_0x51b5a8[_0x4dc638(0x15e)]();return;}const {hasError:_0x49136a,message:_0x43889b,portRemote:portRemote=[0x1bb,0x20fb,0x805,0x823,0x827,0x830,0x50,0x1f90,0x22b0,0x804,0x822,0x826,0x82f],addressRemote:addressRemote='',rawDataIndex:_0x2d013c,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x66cdd9}=await processVlessHeader(_0x577575,userID);_0x19d2d9=addressRemote,_0x2b6b04=portRemote+'--'+Math['random']()+'\x20'+(_0x66cdd9?'udp\x20':'tcp\x20')+'\x20';if(_0x49136a){throw new Error(_0x43889b);return;}if(_0x66cdd9){if(portRemote===0x35)_0x2737aa=!![];else{throw new Error(_0x4dc638(0x1b1));return;}}const _0x467762=new Uint8Array([vlessVersion[0x0],0x0]),_0x24d90d=_0x577575[_0x4dc638(0x187)](_0x2d013c);if(_0x2737aa){const {write:_0xe9b790}=await handleUDPOutBound(_0x2bab7e,_0x467762,_0xef5ac5);_0x5617ca=_0xe9b790,_0x5617ca(_0x24d90d);return;}handleTCPOutBound(_0xb96ea9,addressRemote,portRemote,_0x24d90d,_0x2bab7e,_0x467762,_0xef5ac5);},'close'(){const _0x4a78c9=_0x5899e0;_0xef5ac5(_0x4a78c9(0x1c1));},'abort'(_0x2f1ea1){const _0x5390a8=_0x5899e0;_0xef5ac5(_0x5390a8(0x198),JSON[_0x5390a8(0x158)](_0x2f1ea1));}}))[_0x5899e0(0x1a1)](_0x1f1255=>{_0xef5ac5('readableWebSocketStream\x20pipeTo\x20error',_0x1f1255);}),new Response(null,{'status':0x65,'webSocket':_0x10c677});}let apiResponseCache=null,cacheTimeout=null;async function fetchApiResponse(){const _0x34ff6c=_0x2a5d33,_0x385010={'method':_0x34ff6c(0x1bf),'redirect':_0x34ff6c(0x188)};try{const _0x135f36=await fetch(_0x34ff6c(0x171)+apiHost+_0x34ff6c(0x199)+nodeId+'&node_type=v2ray&token='+apiToken,_0x385010);if(!_0x135f36['ok'])return console[_0x34ff6c(0x1b9)](_0x34ff6c(0x16e)),null;const _0x58ac60=await _0x135f36[_0x34ff6c(0x194)]();return apiResponseCache=_0x58ac60,cacheTimeout&&clearTimeout(cacheTimeout),cacheTimeout=setTimeout(()=>fetchApiResponse(),0x493e0),_0x58ac60;}catch(_0x32e9db){return console[_0x34ff6c(0x1b9)](_0x34ff6c(0x1a8),_0x32e9db),null;}}async function getApiResponse(){if(!apiResponseCache)return await fetchApiResponse();return apiResponseCache;}async function checkUuidInApiResponse(_0x33cce3){const _0x5c0f8d=_0x2a5d33;if(!nodeId||!apiToken||!apiHost)return![];try{const _0x302828=await getApiResponse();if(!_0x302828)return![];const _0x38409e=_0x302828[_0x5c0f8d(0x157)][_0x5c0f8d(0x186)](_0x22c614=>_0x22c614['uuid']===_0x33cce3);return _0x38409e;}catch(_0x50aca5){return console['error'](_0x5c0f8d(0x1a8),_0x50aca5),![];}}async function handleTCPOutBound(_0xd1001b,_0x55620b,_0xc3d90d,_0x29688c,_0xf309ce,_0x19840a,_0x30193a){async function _0x323a83(_0x1490e2,_0x28d96b){const _0x1bdb7e=_0x192d,_0x287c92=connect({'hostname':_0x1490e2,'port':_0x28d96b});_0xd1001b[_0x1bdb7e(0x185)]=_0x287c92,_0x30193a(_0x1bdb7e(0x197)+_0x1490e2+':'+_0x28d96b);const _0x145b89=_0x287c92[_0x1bdb7e(0x181)][_0x1bdb7e(0x177)]();return await _0x145b89[_0x1bdb7e(0x17b)](_0x29688c),_0x145b89[_0x1bdb7e(0x15e)](),_0x287c92;}async function _0x30ee2f(){const _0x3561f6=_0x192d,_0x39d81a=await _0x323a83(proxyIP||_0x55620b,_0xc3d90d);_0x39d81a['closed'][_0x3561f6(0x1a1)](_0x2bb561=>{const _0xfc2e77=_0x3561f6;console['log'](_0xfc2e77(0x19a),_0x2bb561);})[_0x3561f6(0x1a7)](()=>{safeCloseWebSocket(_0xf309ce);}),remoteSocketToWS(_0x39d81a,_0xf309ce,_0x19840a,null,_0x30193a);}const _0x211571=await _0x323a83(_0x55620b,_0xc3d90d);remoteSocketToWS(_0x211571,_0xf309ce,_0x19840a,_0x30ee2f,_0x30193a);}function makeReadableWebSocketStream(_0x332916,_0x58dded,_0x50893a){let _0x43acdf=![];const _0x24a160=new ReadableStream({'start'(_0xba4c3c){const _0xbc2f4f=_0x192d;_0x332916[_0xbc2f4f(0x16d)](_0xbc2f4f(0x15d),_0x46ca1a=>{const _0x8838fb=_0xbc2f4f;if(_0x43acdf)return;const _0x2543ae=_0x46ca1a[_0x8838fb(0x1bc)];_0xba4c3c[_0x8838fb(0x1b5)](_0x2543ae);}),_0x332916[_0xbc2f4f(0x16d)](_0xbc2f4f(0x1ac),()=>{safeCloseWebSocket(_0x332916);if(_0x43acdf)return;_0xba4c3c['close']();}),_0x332916[_0xbc2f4f(0x16d)](_0xbc2f4f(0x1b9),_0x580370=>{const _0x3794ea=_0xbc2f4f;_0x50893a(_0x3794ea(0x16c)),_0xba4c3c[_0x3794ea(0x1b9)](_0x580370);});const {earlyData:_0x1235f4,error:_0x184911}=base64ToArrayBuffer(_0x58dded);if(_0x184911)_0xba4c3c[_0xbc2f4f(0x1b9)](_0x184911);else _0x1235f4&&_0xba4c3c[_0xbc2f4f(0x1b5)](_0x1235f4);},'pull'(_0x3c9397){},'cancel'(_0x436d43){if(_0x43acdf)return;_0x50893a('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0x436d43),_0x43acdf=!![],safeCloseWebSocket(_0x332916);}});return _0x24a160;}function _0x192d(_0x486e3d,_0x513bb1){const _0x270207=_0x2702();return _0x192d=function(_0x192d3f,_0x38343c){_0x192d3f=_0x192d3f-0x154;let _0x210a2f=_0x270207[_0x192d3f];return _0x210a2f;},_0x192d(_0x486e3d,_0x513bb1);}async function processVlessHeader(_0x1c611a,_0x4fafe0){const _0x34d405=_0x2a5d33;if(_0x1c611a['byteLength']<0x18)return{'hasError':!![],'message':'invalid\x20data'};const _0x51f727=new Uint8Array(_0x1c611a[_0x34d405(0x187)](0x0,0x1));let _0x5a1eae=![],_0xcd514f=![];const _0x27e131=new Uint8Array(_0x1c611a[_0x34d405(0x187)](0x1,0x11)),_0x4f0a79=stringify(_0x27e131),_0x47003d=_0x4fafe0['includes'](',')?_0x4fafe0['split'](','):[_0x4fafe0],_0x5334e2=await checkUuidInApiResponse(_0x4f0a79);_0x5a1eae=_0x47003d[_0x34d405(0x186)](_0x1a2ec7=>_0x5334e2||_0x4f0a79===_0x1a2ec7[_0x34d405(0x159)]()),console[_0x34d405(0x154)]('checkUuidInApi:\x20'+await checkUuidInApiResponse(_0x4f0a79)+_0x34d405(0x19e)+_0x4f0a79);if(!_0x5a1eae)return{'hasError':!![],'message':_0x34d405(0x16a)};const _0x145fc2=new Uint8Array(_0x1c611a[_0x34d405(0x187)](0x11,0x12))[0x0],_0x28a1ea=new Uint8Array(_0x1c611a[_0x34d405(0x187)](0x12+_0x145fc2,0x12+_0x145fc2+0x1))[0x0];if(_0x28a1ea===0x1){}else{if(_0x28a1ea===0x2)_0xcd514f=!![];else return{'hasError':!![],'message':_0x34d405(0x1c6)+_0x28a1ea+'\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux'};}const _0x1d1712=0x12+_0x145fc2+0x1,_0x3de3f2=_0x1c611a['slice'](_0x1d1712,_0x1d1712+0x2),_0x16829c=new DataView(_0x3de3f2)['getUint16'](0x0);let _0x20c47e=_0x1d1712+0x2;const _0x1f4861=new Uint8Array(_0x1c611a['slice'](_0x20c47e,_0x20c47e+0x1)),_0x2e3218=_0x1f4861[0x0];let _0x2c4b97=0x0,_0x27623d=_0x20c47e+0x1,_0xd6a669='';switch(_0x2e3218){case 0x1:_0x2c4b97=0x4,_0xd6a669=new Uint8Array(_0x1c611a[_0x34d405(0x187)](_0x27623d,_0x27623d+_0x2c4b97))[_0x34d405(0x18d)]('.');break;case 0x2:_0x2c4b97=new Uint8Array(_0x1c611a[_0x34d405(0x187)](_0x27623d,_0x27623d+0x1))[0x0],_0x27623d+=0x1,_0xd6a669=new TextDecoder()[_0x34d405(0x160)](_0x1c611a['slice'](_0x27623d,_0x27623d+_0x2c4b97));break;case 0x3:_0x2c4b97=0x10;const _0x2b4b9f=new DataView(_0x1c611a[_0x34d405(0x187)](_0x27623d,_0x27623d+_0x2c4b97)),_0xa1fd5a=[];for(let _0xe919be=0x0;_0xe919be<0x8;_0xe919be++){_0xa1fd5a[_0x34d405(0x1ab)](_0x2b4b9f['getUint16'](_0xe919be*0x2)[_0x34d405(0x162)](0x10));}_0xd6a669=_0xa1fd5a['join'](':');break;default:return{'hasError':!![],'message':_0x34d405(0x15a)+_0x2e3218};}if(!_0xd6a669)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0x2e3218};return{'hasError':![],'addressRemote':_0xd6a669,'addressType':_0x2e3218,'portRemote':_0x16829c,'rawDataIndex':_0x27623d+_0x2c4b97,'vlessVersion':_0x51f727,'isUDP':_0xcd514f};}async function remoteSocketToWS(_0x351e32,_0x3c5ed8,_0x599863,_0x103c09,_0x34e5c5){const _0x43cdbf=_0x2a5d33;let _0x70cf62=0x0,_0x534508=[],_0x787585=_0x599863,_0x23bb59=![];await _0x351e32[_0x43cdbf(0x184)]['pipeTo'](new WritableStream({'start'(){},async 'write'(_0x138203,_0x439950){const _0x44cb3d=_0x43cdbf;_0x23bb59=!![],_0x3c5ed8[_0x44cb3d(0x1a4)]!==WS_READY_STATE_OPEN&&_0x439950['error'](_0x44cb3d(0x176)),_0x787585?(_0x3c5ed8[_0x44cb3d(0x18f)](await new Blob([_0x787585,_0x138203])[_0x44cb3d(0x175)]()),_0x787585=null):_0x3c5ed8[_0x44cb3d(0x18f)](_0x138203);},'close'(){const _0x22899f=_0x43cdbf;_0x34e5c5(_0x22899f(0x1b3)+_0x23bb59);},'abort'(_0x22c1b5){const _0x27c8d3=_0x43cdbf;console[_0x27c8d3(0x1b9)](_0x27c8d3(0x166),_0x22c1b5);}}))[_0x43cdbf(0x1a1)](_0x38c2fd=>{const _0x4e9e8c=_0x43cdbf;console[_0x4e9e8c(0x1b9)](_0x4e9e8c(0x18c),_0x38c2fd[_0x4e9e8c(0x1b0)]||_0x38c2fd),safeCloseWebSocket(_0x3c5ed8);}),_0x23bb59===![]&&_0x103c09&&(_0x34e5c5(_0x43cdbf(0x167)),_0x103c09());}function base64ToArrayBuffer(_0xbdb43c){const _0x3039fe=_0x2a5d33;if(!_0xbdb43c)return{'error':null};try{_0xbdb43c=_0xbdb43c[_0x3039fe(0x17c)](/-/g,'+')[_0x3039fe(0x17c)](/_/g,'/');const _0x5e3c4c=atob(_0xbdb43c),_0x377ba5=Uint8Array[_0x3039fe(0x155)](_0x5e3c4c,_0x371846=>_0x371846['charCodeAt'](0x0));return{'earlyData':_0x377ba5['buffer'],'error':null};}catch(_0xfd75b1){return{'error':_0xfd75b1};}}function isValidUUID(_0x246ef4){const _0x31c0fb=_0x2a5d33,_0xe3e11a=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0xe3e11a[_0x31c0fb(0x1a9)](_0x246ef4);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x4dfa0c){const _0x542318=_0x2a5d33;try{(_0x4dfa0c[_0x542318(0x1a4)]===WS_READY_STATE_OPEN||_0x4dfa0c[_0x542318(0x1a4)]===WS_READY_STATE_CLOSING)&&_0x4dfa0c[_0x542318(0x1ac)]();}catch(_0x2d1b39){console[_0x542318(0x1b9)](_0x542318(0x19d),_0x2d1b39);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0x2a5d33(0x1ab)]((i+0x100)[_0x2a5d33(0x162)](0x10)['slice'](0x1));}function unsafeStringify(_0x40df74,_0x21f4cb=0x0){const _0x6570ef=_0x2a5d33;return(byteToHex[_0x40df74[_0x21f4cb+0x0]]+byteToHex[_0x40df74[_0x21f4cb+0x1]]+byteToHex[_0x40df74[_0x21f4cb+0x2]]+byteToHex[_0x40df74[_0x21f4cb+0x3]]+'-'+byteToHex[_0x40df74[_0x21f4cb+0x4]]+byteToHex[_0x40df74[_0x21f4cb+0x5]]+'-'+byteToHex[_0x40df74[_0x21f4cb+0x6]]+byteToHex[_0x40df74[_0x21f4cb+0x7]]+'-'+byteToHex[_0x40df74[_0x21f4cb+0x8]]+byteToHex[_0x40df74[_0x21f4cb+0x9]]+'-'+byteToHex[_0x40df74[_0x21f4cb+0xa]]+byteToHex[_0x40df74[_0x21f4cb+0xb]]+byteToHex[_0x40df74[_0x21f4cb+0xc]]+byteToHex[_0x40df74[_0x21f4cb+0xd]]+byteToHex[_0x40df74[_0x21f4cb+0xe]]+byteToHex[_0x40df74[_0x21f4cb+0xf]])[_0x6570ef(0x1a6)]();}function stringify(_0x3d0e10,_0x454d48=0x0){const _0x10d8c5=unsafeStringify(_0x3d0e10,_0x454d48);if(!isValidUUID(_0x10d8c5))throw TypeError('Stringified\x20UUID\x20is\x20invalid');return _0x10d8c5;}async function handleUDPOutBound(_0x9f7269,_0x4d2501,_0x544d39){const _0x3c24a4=_0x2a5d33;let _0x562c48=![];const _0x47fd92=new TransformStream({'start'(_0x181293){},'transform'(_0x4def0c,_0x2ac721){const _0x343bb2=_0x192d;for(let _0x48c983=0x0;_0x48c983<_0x4def0c[_0x343bb2(0x195)];){const _0x3b9b0f=_0x4def0c['slice'](_0x48c983,_0x48c983+0x2),_0x2ec472=new DataView(_0x3b9b0f)[_0x343bb2(0x1a3)](0x0),_0x3a9071=new Uint8Array(_0x4def0c['slice'](_0x48c983+0x2,_0x48c983+0x2+_0x2ec472));_0x48c983=_0x48c983+0x2+_0x2ec472,_0x2ac721['enqueue'](_0x3a9071);}},'flush'(_0x346670){}});_0x47fd92[_0x3c24a4(0x184)][_0x3c24a4(0x1be)](new WritableStream({async 'write'(_0x534103){const _0x82292e=_0x3c24a4,_0x1968d3=await fetch(dohURL,{'method':'POST','headers':{'content-type':_0x82292e(0x182)},'body':_0x534103}),_0x10d85f=await _0x1968d3[_0x82292e(0x175)](),_0x4353d3=_0x10d85f[_0x82292e(0x195)],_0x413979=new Uint8Array([_0x4353d3>>0x8&0xff,_0x4353d3&0xff]);_0x9f7269[_0x82292e(0x1a4)]===WS_READY_STATE_OPEN&&(_0x544d39('doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20'+_0x4353d3),_0x562c48?_0x9f7269[_0x82292e(0x18f)](await new Blob([_0x413979,_0x10d85f])[_0x82292e(0x175)]()):(_0x9f7269[_0x82292e(0x18f)](await new Blob([_0x4d2501,_0x413979,_0x10d85f])['arrayBuffer']()),_0x562c48=!![]));}}))[_0x3c24a4(0x1a1)](_0x19f667=>{const _0x1f7a51=_0x3c24a4;_0x544d39(_0x1f7a51(0x1ad)+_0x19f667);});const _0x4d786d=_0x47fd92[_0x3c24a4(0x181)][_0x3c24a4(0x177)]();return{'write'(_0x185fed){const _0x1548f4=_0x3c24a4;_0x4d786d[_0x1548f4(0x17b)](_0x185fed);}};}function getVLESSConfig(_0x4d9172,_0x48408a){const _0x2e2d36=_0x2a5d33,_0x1fb1db=_0x2e2d36(0x165)+_0x4d9172+_0x2e2d36(0x192)+_0x48408a+_0x2e2d36(0x1c0)+_0x48408a,_0x1ec526=_0x2e2d36(0x165)+_0x4d9172+_0x2e2d36(0x17a)+_0x48408a+_0x2e2d36(0x180)+_0x48408a+_0x2e2d36(0x190)+_0x48408a;if(_0x48408a[_0x2e2d36(0x191)](_0x2e2d36(0x178)))return _0x2e2d36(0x168)+_0x1ec526+_0x2e2d36(0x1aa)+_0x48408a+_0x2e2d36(0x189)+_0x4d9172+_0x2e2d36(0x15f)+_0x48408a+_0x2e2d36(0x1b7);else return _0x48408a['includes'](_0x2e2d36(0x18a))?_0x2e2d36(0x196)+_0x1fb1db+_0x2e2d36(0x18b)+_0x4d9172+_0x2e2d36(0x15f)+_0x48408a+_0x2e2d36(0x183):'\x0a==========================配置详解==============================\x0a\x0a=====使用自定义域名查看配置，请确认使用的是workers还是pages=====\x0a\x0a################################################################\x0a一、CF-workers-vless+ws节点，分享链接如下：\x0a\x0a'+_0x1fb1db+_0x2e2d36(0x18b)+_0x4d9172+'\x0a传输协议(network)：ws\x20或者\x20websocket\x0a伪装域名(host)：'+_0x48408a+_0x2e2d36(0x1c2)+_0x1ec526+'\x0a\x0a---------------------------------------------------------------\x0a注意：客户端选项的伪装域名(host)必须改为你在CF解析完成的自定义域名\x0a---------------------------------------------------------------\x0a客户端必要文明参数如下：\x0a客户端地址(address)：自定义的域名\x20或者\x20优选域名\x20或者\x20优选IP（反代IP必须与反代端口对应）\x0a端口(port)：6个https端口可任意选择(443、8443、2053、2083、2087、2096)\x0a用户ID(uuid)：'+_0x4d9172+_0x2e2d36(0x15f)+_0x48408a+_0x2e2d36(0x1b7);}
